{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nlet WarehouseComponent = class WarehouseComponent {\n  constructor(warehouseService, formBuilder) {\n    this.warehouseService = warehouseService;\n    this.formBuilder = formBuilder;\n    this.pageNumbers = new Array();\n    this.currentPage = 1;\n    this.name = new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]);\n    this.addWarehouseForm = this.formBuilder.group({\n      name: this.name\n    });\n  }\n  ngOnInit() {\n    this.warehouses = this.warehouseService.getPaged(1);\n    this.pagination = this.warehouseService.pagination;\n    this.setupPagination();\n  }\n  addNew() {\n    this.warehouseService.add(this.addWarehouseForm.getRawValue());\n  }\n  remove(id) {\n    this.warehouseService.remove(id);\n  }\n  openEditModal(model) {\n    this.warehouse = model;\n    var name = document.getElementById('warehouseName');\n    name?.setAttribute('value', model.name);\n  }\n  edit() {\n    this.warehouse.name = document.getElementById('warehouseName').value;\n    this.warehouseService.edit(this.warehouse);\n  }\n  setupPagination() {\n    var left = document.getElementById('p_left');\n    var right = document.getElementById('p_right');\n    if (!this.warehouseService.pagination.HasPrevious) {\n      left?.classList.add('disabled');\n    } else {\n      left?.classList.remove('disabled');\n    }\n    if (!this.warehouseService.pagination.HasNext) {\n      right?.classList.add('disabled');\n    } else {\n      right?.classList.remove('disabled');\n    }\n    this.currentPage = this.warehouseService.pagination.CurrentPage;\n    for (let i = 0; i <= Number(this.warehouseService.pagination.TotalPages); i++) {\n      this.pageNumbers.push(i + 1);\n    }\n  }\n};\nWarehouseComponent = __decorate([Component({\n  selector: 'app-warehouse',\n  templateUrl: './warehouse.component.html',\n  styleUrls: ['./warehouse.component.css']\n})], WarehouseComponent);\nexport { WarehouseComponent };","map":{"version":3,"mappings":"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","names":["Component","FormControl","Validators","WarehouseComponent","constructor","warehouseService","formBuilder","Array","required","minLength","maxLength","group","name","ngOnInit","warehouses","getPaged","pagination","setupPagination","addNew","add","addWarehouseForm","getRawValue","remove","id","openEditModal","model","warehouse","document","getElementById","setAttribute","edit","value","left","right","HasPrevious","classList","HasNext","currentPage","CurrentPage","i","Number","TotalPages","pageNumbers","push","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Nodirbek\\Desktop\\ZAKAZ\\Admin\\src\\app\\components\\warehouse\\warehouse.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Observable} from 'rxjs';\nimport { Pagination } from 'src/app/models/Pagination';\nimport { Warehouse } from 'src/app/models/warehouse';\nimport { WarehouseService } from 'src/app/services/warehouse/warehouse.service';\n\n@Component({\n  selector: 'app-warehouse',\n  templateUrl: './warehouse.component.html',\n  styleUrls: ['./warehouse.component.css']\n})\nexport class WarehouseComponent implements OnInit{\n  warehouses: Observable<Warehouse[]> | undefined;\n  nameField: any;\n  warehouse: any;\n  pageNumbers = new Array();\n  currentPage: number = 1;\n  public pagination: Pagination | undefined;\n\n  constructor(private warehouseService: WarehouseService,           \n              private formBuilder: FormBuilder,){}\n\n  ngOnInit(): void {\n    this.warehouses = this.warehouseService.getPaged(1);\n    this.pagination = this.warehouseService.pagination;\n    this.setupPagination();\n  }\n  name = new FormControl('', [\n    Validators.required,\n    Validators.minLength(3),\n    Validators.maxLength(100)\n  ]);\n\n  public addWarehouseForm = this.formBuilder.group({\n    name: this.name\n  });\n\n  addNew() {\n    this.warehouseService.add(this.addWarehouseForm.getRawValue());\n  }\n\n  remove(id: number) {\n    this.warehouseService.remove(id);\n  }\n\n  openEditModal(model: Warehouse) {\n      this.warehouse = model;\n      var name = document.getElementById('warehouseName');\n      name?.setAttribute('value', model.name);\n  }\n\n  edit() {\n    this.warehouse.name = (document.getElementById('warehouseName') as HTMLInputElement).value;\n    this.warehouseService.edit(this.warehouse)\n  }\n\n  setupPagination() {\n    var left = document.getElementById('p_left');\n    var right = document.getElementById('p_right');\n    if (!this.warehouseService.pagination.HasPrevious) {\n      left?.classList.add('disabled');\n    }\n    else {\n      left?.classList.remove('disabled');\n    }\n    if (!this.warehouseService.pagination.HasNext) {\n      right?.classList.add('disabled');\n    }\n    else {\n      right?.classList.remove('disabled');\n    }\n    this.currentPage = this.warehouseService.pagination.CurrentPage;\n    for (let i = 0; i <= Number(this.warehouseService.pagination.TotalPages); i++){\n      this.pageNumbers.push(i+1)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}