{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nfunction PrintComponent_img_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.src, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nexport let PrintComponent = /*#__PURE__*/(() => {\n  class PrintComponent {\n    constructor(router, route, toastr) {\n      this.router = router;\n      this.route = route;\n      this.toastr = toastr;\n      this.barcode = '000000000000';\n      this.src = \"https://barcodeapi.org/api/128/\";\n    }\n    ngOnInit() {\n      const routeParams = this.router.snapshot.paramMap;\n      this.barcode = routeParams.get('barcode') ?? \"\";\n      if (this.barcode.length > 10) {\n        this.src += this.barcode;\n      } else {\n        this.toastr.error('Barcode yaratib bo\\'lmadi', '', {\n          timeOut: 2000\n        }).onHidden.subscribe(() => {\n          this.route.navigate(['/product/add']);\n        });\n      }\n    }\n    back() {\n      this.route.navigate(['/product/add']);\n    }\n    print() {\n      const divToPrint = document.getElementById(\"printBody\");\n      if (divToPrint) {\n        const printContents = divToPrint.innerHTML;\n        const originalContents = document.body.innerHTML;\n        document.body.innerHTML = printContents;\n        window.print();\n        window.location.reload();\n        document.body.innerHTML = originalContents;\n      }\n    }\n  }\n  PrintComponent.ɵfac = function PrintComponent_Factory(t) {\n    return new (t || PrintComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ToastrService));\n  };\n  PrintComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PrintComponent,\n    selectors: [[\"app-print\"]],\n    decls: 9,\n    vars: 2,\n    consts: [[1, \"container\", \"d-flex\", \"justify-content-center\", \"links\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"bi\", \"bi-arrow-left\", \"me-2\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi\", \"bi-printer-fill\", \"me-2\"], [\"id\", \"printBody\"], [\"class\", \"image\", \"alt\", \"\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"\", 1, \"image\", 3, \"src\"]],\n    template: function PrintComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n        i0.ɵɵlistener(\"click\", function PrintComponent_Template_a_click_1_listener() {\n          return ctx.back();\n        });\n        i0.ɵɵelement(2, \"i\", 2);\n        i0.ɵɵtext(3, \" Orqaga\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"a\", 3);\n        i0.ɵɵlistener(\"click\", function PrintComponent_Template_a_click_4_listener() {\n          return ctx.print();\n        });\n        i0.ɵɵelement(5, \"i\", 4);\n        i0.ɵɵtext(6, \" Print\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtemplate(8, PrintComponent_img_8_Template, 1, 1, \"img\", 6);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(1, _c0).constructor(65));\n      }\n    },\n    dependencies: [i3.NgForOf],\n    styles: [\"#printBody[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:210mm;height:297mm;padding:1mm;box-sizing:border-box;background-color:#fff}.image[_ngcontent-%COMP%]{width:34mm;margin:1mm 2mm;object-fit:cover}\"]\n  });\n  return PrintComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}