{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/warehouse/warehouse.service\";\nimport * as i3 from \"src/app/services/warehouseItem/warehouse-item.service\";\nimport * as i4 from \"src/app/services/product/product.service\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nfunction EditWarehouseItemComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"option\", 44);\n  }\n  if (rf & 2) {\n    const product_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", product_r7.name);\n  }\n}\nfunction EditWarehouseItemComponent_option_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const warehouse_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", warehouse_r8.id);\n    i0.ɵɵproperty(\"selected\", warehouse_r8.id == ctx_r1.warehouseItem.warehouseId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", warehouse_r8.name, \" \");\n  }\n}\nfunction EditWarehouseItemComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Ombor tanlang! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditWarehouseItemComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Maydonni to'ldiring! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditWarehouseItemComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Maydonni to'ldiring! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditWarehouseItemComponent_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Maydonni to'ldiring! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditWarehouseItemComponent_div_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Maydonni to'ldiring! \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EditWarehouseItemComponent {\n  constructor(formBuilder, warehouseService, warehouseItemService, productService, toastr, actRoute) {\n    this.formBuilder = formBuilder;\n    this.warehouseService = warehouseService;\n    this.warehouseItemService = warehouseItemService;\n    this.productService = productService;\n    this.toastr = toastr;\n    this.actRoute = actRoute;\n    this.warehouses = [];\n    this.products = [];\n    this.warehouseItemId = 0;\n    this.selectedProduct = {\n      id: 0,\n      name: '',\n      description: '',\n      madeIn: '',\n      barcode: '',\n      warningCount: 0,\n      subcategoryId: 0,\n      subcategoryName: '',\n      categoryId: 0,\n      categoryName: '',\n      adminId: '',\n      adminFullName: '',\n      addedDate: new Date(),\n      modifiedDate: new Date()\n    };\n    this.warehouseItem = {\n      id: this.warehouseItemId,\n      quantity: 0,\n      broughtDate: new Date(),\n      incomingPrice: 0,\n      sellingPrice: 0,\n      adminId: '',\n      adminFullName: '',\n      addedDate: new Date(),\n      modifiedDate: new Date(),\n      productId: 0,\n      productName: '',\n      warehouseId: 0,\n      warehouseName: ''\n    };\n    this.quantity = new FormControl(this.warehouseItem.quantity, [Validators.required]);\n    this.broughtDate = new FormControl(this.warehouseItem.broughtDate, [Validators.required, Validators.nullValidator]);\n    this.incomingPrice = new FormControl(this.warehouseItem.incomingPrice, [Validators.required]);\n    this.sellingPrice = new FormControl(this.warehouseItem.sellingPrice, [Validators.required]);\n    this.productId = new FormControl(this.warehouseItem.productId, [Validators.required, Validators.nullValidator]);\n    this.adminId = new FormControl(this.warehouseItem.adminId);\n    this.warehouseId = new FormControl(this.warehouseId.wa, [Validators.required, Validators.nullValidator]);\n    this.editForm = this.formBuilder.group({\n      quantity: this.quantity,\n      broughtDate: this.broughtDate,\n      incomingPrice: this.incomingPrice,\n      sellingPrice: this.sellingPrice,\n      productId: this.productId,\n      adminId: this.adminId,\n      warehouseId: this.warehouseId\n    });\n  }\n  ngOnInit() {\n    const routeParams = this.actRoute.snapshot.paramMap;\n    this.warehouseItemId = Number(routeParams.get('warehouseItemId') ?? \"\");\n    this.warehouseItemService.getById(this.warehouseItemId).subscribe(data => {\n      this.warehouseItem = data;\n      this.selectProduct(this.warehouseItem.productId);\n    });\n    this.warehouseService.getAll().subscribe(data => {\n      this.warehouses = data;\n    });\n    this.productService.getAll().subscribe(data => this.products = data);\n  }\n  focusOnScan() {\n    var element = document.getElementById('barcodeInput');\n    element.focus();\n  }\n  scanned(event) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      var barcode = document.getElementById('barcodeInput');\n      var product = this.products.filter(p => p.barcode == barcode.value)[0];\n      this.selectProduct(product.id);\n    }\n  }\n  clearbarcode() {\n    var input = document.getElementById('barcodeInput');\n    input.value = '';\n    this.clearProductSelection();\n    this.checkProductId();\n  }\n  clearsearch() {\n    var input = document.getElementById('productSearchText');\n    input.value = '';\n    this.clearProductSelection();\n    this.checkProductId();\n  }\n  clearProductSelection() {\n    var input = document.getElementById('pname');\n    input.innerText = '';\n    input = document.getElementById('pmadeIn');\n    input.innerText = '';\n    input = document.getElementById('pcategoryName');\n    input.innerText = '';\n    input = document.getElementById('psubcategoryName');\n    input.innerText = '';\n    input = document.getElementById('description');\n    input.innerText = '';\n    this.cancelSelection();\n  }\n  selectProduct(id) {\n    this.productService.getById(id).subscribe(data => {\n      this.selectedProduct = data;\n      this.editForm.controls.productId.setValue(id);\n      this.setInformations();\n      this.checkProductId();\n    });\n  }\n  selectByName() {\n    var input = document.getElementById('productSearchText');\n    var product = this.products.filter(p => p.name == input.value)[0];\n    this.selectProduct(product.id);\n  }\n  cancelSelection() {\n    this.selectedProduct = {\n      id: 0,\n      name: '',\n      description: '',\n      madeIn: '',\n      barcode: '',\n      warningCount: 0,\n      subcategoryId: 0,\n      subcategoryName: '',\n      categoryId: 0,\n      categoryName: '',\n      adminId: '',\n      adminFullName: '',\n      addedDate: new Date(),\n      modifiedDate: new Date()\n    };\n  }\n  setInformations() {\n    var input = document.getElementById('pname');\n    input.innerText = this.selectedProduct.name;\n    input = document.getElementById('productSearchText');\n    input.value = this.selectedProduct.name;\n    input = document.getElementById('barcodeInput');\n    input.value = this.selectedProduct.barcode;\n    input = document.getElementById('pmadeIn');\n    input.innerText = this.selectedProduct.madeIn;\n    input = document.getElementById('pcategoryName');\n    input.innerText = this.selectedProduct.categoryName;\n    input = document.getElementById('psubcategoryName');\n    input.innerText = this.selectedProduct.subcategoryName;\n    input = document.getElementById('description');\n    input.innerText = this.selectedProduct.description;\n    this.editForm.controls.warehouseId.setValue(this.warehouseItem.warehouseId.toString());\n    //this.editForm.controls.\n  }\n\n  checkProductId() {\n    var message = document.getElementById('productIdErrorMessage');\n    if (this.selectedProduct.id == 0) {\n      message.classList.remove('d-none');\n    } else {\n      message.classList.add('d-none');\n    }\n  }\n  add() {\n    this.warehouseItemService.add(this.editForm.getRawValue());\n  }\n}\nEditWarehouseItemComponent.ɵfac = function EditWarehouseItemComponent_Factory(t) {\n  return new (t || EditWarehouseItemComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.WarehouseService), i0.ɵɵdirectiveInject(i3.WarehouseItemService), i0.ɵɵdirectiveInject(i4.ProductService), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i6.ActivatedRoute));\n};\nEditWarehouseItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditWarehouseItemComponent,\n  selectors: [[\"app-edit-warehouse-item\"]],\n  decls: 98,\n  vars: 14,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"modal-body\", 3, \"formGroup\"], [\"id\", \"productIdErrorMessage\", 1, \"text-center\", \"text-danger\", \"d-none\"], [1, \"row\", \"mb-4\"], [1, \"col-md-6\"], [1, \"mb-3\", \"mt-1\"], [1, \"form-label\", 2, \"font-size\", \"16px\"], [\"type\", \"text\", \"placeholder\", \"000000000000\", \"ngModel\", \"\", \"id\", \"barcodeInput\", \"formControlName\", \"barcode\", 1, \"form-control\", 3, \"keydown\"], [1, \"d-flex\", \"justify-content-center\", \"mb-4\"], [1, \"btn\", \"btn-primary\", \"mx-2\", 3, \"click\"], [1, \"bi\", \"bi-upc-scan\", \"me-2\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"bi\", \"bi-arrow-counterclockwise\", \"me-2\"], [1, \"mb-3\", \"mt-4\"], [\"type\", \"search\", \"list\", \"products\", \"id\", \"productSearchText\", 1, \"form-control\"], [\"id\", \"products\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"btn\", \"btn-success\", \"mx-2\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle\", \"me-2\"], [1, \"container\", \"product-div\"], [\"id\", \"pname\"], [\"id\", \"pmadeIn\"], [\"id\", \"pcategoryName\"], [\"id\", \"psubcategoryName\"], [\"id\", \"description\"], [1, \"row\"], [1, \"mb-1\", \"mt-3\"], [1, \"form-label\"], [\"formControlName\", \"warehouseId\", \"id\", \"warehouseSelect\", 1, \"form-select\"], [\"value\", \"null\", \"disabled\", \"\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [1, \"mb-3\", \"mt-3\"], [\"type\", \"number\", \"placeholder\", \"Mahsulot miqdorini kiriting\", \"ngModel\", \"\", \"formControlName\", \"quantity\", 1, \"form-control\"], [\"type\", \"date\", \"ngModel\", \"\", \"formControlName\", \"broughtDate\", 1, \"form-control\"], [\"type\", \"number\", \"ngModel\", \"\", \"formControlName\", \"incomingPrice\", 1, \"form-control\"], [\"type\", \"number\", \"ngModel\", \"\", \"formControlName\", \"sellingPrice\", 1, \"form-control\"], [1, \"modal-footer\", \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", \"routerLink\", \"..\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [3, \"value\"], [3, \"value\", \"selected\"], [1, \"form-text\", \"text-danger\"]],\n  template: function EditWarehouseItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Yangi kirim qo'shish\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4)(6, \"h5\", 5);\n      i0.ɵɵtext(7, \"Mahsulotni tanlang!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"label\", 9);\n      i0.ɵɵtext(12, \"Barcode orqali qo'shish\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 10);\n      i0.ɵɵlistener(\"keydown\", function EditWarehouseItemComponent_Template_input_keydown_13_listener($event) {\n        return ctx.scanned($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 11)(15, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function EditWarehouseItemComponent_Template_button_click_15_listener() {\n        return ctx.focusOnScan();\n      });\n      i0.ɵɵelement(16, \"i\", 13);\n      i0.ɵɵtext(17, \"Scanerlash \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"a\", 14);\n      i0.ɵɵlistener(\"click\", function EditWarehouseItemComponent_Template_a_click_18_listener() {\n        return ctx.clearbarcode();\n      });\n      i0.ɵɵelement(19, \"i\", 15);\n      i0.ɵɵtext(20, \" Tozalash \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"label\", 9);\n      i0.ɵɵtext(23, \"Mahsulot nomi bo'yicha qo'shish\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 17);\n      i0.ɵɵelementStart(25, \"datalist\", 18);\n      i0.ɵɵtemplate(26, EditWarehouseItemComponent_option_26_Template, 1, 1, \"option\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 20)(28, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function EditWarehouseItemComponent_Template_button_click_28_listener() {\n        return ctx.selectByName();\n      });\n      i0.ɵɵelement(29, \"i\", 22);\n      i0.ɵɵtext(30, \"Qo'shish \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"a\", 14);\n      i0.ɵɵlistener(\"click\", function EditWarehouseItemComponent_Template_a_click_31_listener() {\n        return ctx.clearsearch();\n      });\n      i0.ɵɵelement(32, \"i\", 15);\n      i0.ɵɵtext(33, \" Tozalash \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"div\", 7)(35, \"div\", 23)(36, \"label\");\n      i0.ɵɵtext(37, \"Nomi:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"h5\", 24);\n      i0.ɵɵtext(39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(40, \"hr\");\n      i0.ɵɵelementStart(41, \"label\");\n      i0.ɵɵtext(42, \"Ishlab chiqarilgan joyi:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"h5\", 25);\n      i0.ɵɵtext(44);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(45, \"hr\");\n      i0.ɵɵelementStart(46, \"label\");\n      i0.ɵɵtext(47, \"Mahsulot turi:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"h5\", 26);\n      i0.ɵɵtext(49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"hr\");\n      i0.ɵɵelementStart(51, \"label\");\n      i0.ɵɵtext(52, \"Kategoriyasi:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"h5\", 27);\n      i0.ɵɵtext(54);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(55, \"hr\");\n      i0.ɵɵelementStart(56, \"label\");\n      i0.ɵɵtext(57, \"Izoh:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"h5\", 28);\n      i0.ɵɵtext(59);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(60, \"hr\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(61, \"hr\");\n      i0.ɵɵelementStart(62, \"div\", 29)(63, \"div\", 7)(64, \"div\", 30)(65, \"label\", 31);\n      i0.ɵɵtext(66, \"Ombor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"select\", 32)(68, \"option\", 33);\n      i0.ɵɵtext(69, \" -- Omborni tanlang -- \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(70, EditWarehouseItemComponent_option_70_Template, 2, 3, \"option\", 34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(71, EditWarehouseItemComponent_div_71_Template, 2, 0, \"div\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"div\", 36)(73, \"label\", 31);\n      i0.ɵɵtext(74, \"Miqdori\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(75, \"input\", 37);\n      i0.ɵɵtemplate(76, EditWarehouseItemComponent_div_76_Template, 2, 0, \"div\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"div\", 36)(78, \"label\", 31);\n      i0.ɵɵtext(79, \"Olib kelingan sanani kiriting\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(80, \"input\", 38);\n      i0.ɵɵtemplate(81, EditWarehouseItemComponent_div_81_Template, 2, 0, \"div\", 35);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(82, \"div\", 7)(83, \"div\", 36)(84, \"label\", 31);\n      i0.ɵɵtext(85, \"Olish narxi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(86, \"input\", 39);\n      i0.ɵɵtemplate(87, EditWarehouseItemComponent_div_87_Template, 2, 0, \"div\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"div\", 36)(89, \"label\", 31);\n      i0.ɵɵtext(90, \"Sotish narxi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(91, \"input\", 40);\n      i0.ɵɵtemplate(92, EditWarehouseItemComponent_div_92_Template, 2, 0, \"div\", 35);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(93, \"div\", 41)(94, \"button\", 42);\n      i0.ɵɵtext(95, \" Orqaga \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(96, \"button\", 43);\n      i0.ɵɵlistener(\"click\", function EditWarehouseItemComponent_Template_button_click_96_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵtext(97, \" Saqlash \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.editForm);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(13);\n      i0.ɵɵtextInterpolate(ctx.selectedProduct.name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.selectedProduct.madeIn);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.selectedProduct.categoryName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.selectedProduct.subcategoryName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.selectedProduct.description);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.warehouses);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.warehouseId.errors == null ? null : ctx.warehouseId.errors[\"required\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.quantity.errors == null ? null : ctx.quantity.errors[\"required\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.broughtDate.errors == null ? null : ctx.broughtDate.errors[\"required\"]);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.incomingPrice.errors == null ? null : ctx.incomingPrice.errors[\"required\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.sellingPrice.errors == null ? null : ctx.sellingPrice.errors[\"required\"]);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", !ctx.editForm.valid);\n    }\n  },\n  dependencies: [i7.NgForOf, i7.NgIf, i6.RouterLink, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","i0","EditWarehouseItemComponent","constructor","formBuilder","warehouseService","warehouseItemService","productService","toastr","actRoute","id","name","description","madeIn","barcode","warningCount","subcategoryId","subcategoryName","categoryId","categoryName","adminId","adminFullName","addedDate","Date","modifiedDate","warehouseItemId","quantity","broughtDate","incomingPrice","sellingPrice","productId","productName","warehouseId","warehouseName","warehouseItem","required","nullValidator","wa","group","ngOnInit","routeParams","snapshot","paramMap","Number","get","getById","subscribe","data","selectProduct","getAll","warehouses","products","focusOnScan","element","document","getElementById","focus","scanned","event","keyCode","preventDefault","product","filter","p","value","clearbarcode","input","clearProductSelection","checkProductId","clearsearch","innerText","cancelSelection","selectedProduct","editForm","controls","setValue","setInformations","selectByName","toString","message","classList","remove","add","getRawValue","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Nodirbek\\Desktop\\ZAKAZ\\Admin\\src\\app\\components\\warehouse-item\\edit-warehouse-item\\edit-warehouse-item.component.ts","C:\\Users\\Nodirbek\\Desktop\\ZAKAZ\\Admin\\src\\app\\components\\warehouse-item\\edit-warehouse-item\\edit-warehouse-item.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Product } from 'src/app/models/Product';\nimport { WarehouseItem } from 'src/app/models/WarehouseItem';\nimport { Warehouse } from 'src/app/models/warehouse';\nimport { ProductService } from 'src/app/services/product/product.service';\nimport { WarehouseService } from 'src/app/services/warehouse/warehouse.service';\nimport { WarehouseItemService } from 'src/app/services/warehouseItem/warehouse-item.service';\n\n@Component({\n  selector: 'app-edit-warehouse-item',\n  templateUrl: './edit-warehouse-item.component.html',\n  styleUrls: ['./edit-warehouse-item.component.css']\n})\nexport class EditWarehouseItemComponent implements OnInit {\n  constructor(\n    private formBuilder: FormBuilder,\n    private warehouseService: WarehouseService,\n    private warehouseItemService: WarehouseItemService,\n    private productService: ProductService,\n    private toastr: ToastrService,\n    private actRoute: ActivatedRoute\n  ) {}\n\n  warehouses: Warehouse[] = [];\n  products: Product[] = [];\n  warehouseItemId: number = 0;\n  selectedProduct: Product = {\n    id: 0,\n    name: '',\n    description: '',\n    madeIn: '',\n    barcode: '',\n    warningCount: 0,\n    subcategoryId: 0,\n    subcategoryName: '',\n    categoryId: 0,\n    categoryName: '',\n    adminId: '',\n    adminFullName: '',\n    addedDate: new Date(),\n    modifiedDate: new Date()\n  };\n  warehouseItem: WarehouseItem = {\n    id: this.warehouseItemId,\n    quantity: 0,\n    broughtDate: new Date(),\n    incomingPrice: 0,\n    sellingPrice: 0,\n    adminId: '',\n    adminFullName: '',\n    addedDate: new Date(),\n    modifiedDate: new Date(),\n    productId: 0,\n    productName: '',\n    warehouseId: 0,\n    warehouseName: ''\n  }\n\n  ngOnInit(): void {\n    const routeParams = this.actRoute.snapshot.paramMap;\n    this.warehouseItemId = Number(routeParams.get('warehouseItemId')??\"\");\n    this.warehouseItemService.getById(this.warehouseItemId).subscribe(data => {\n      this.warehouseItem = data;\n      this.selectProduct(this.warehouseItem.productId);\n    });\n    this.warehouseService.getAll().subscribe((data) => {\n      this.warehouses = data;\n    });\n    this.productService.getAll().subscribe((data) => this.products = data);\n  }\n\n  quantity = new FormControl(this.warehouseItem.quantity, [\n    Validators.required\n  ]);\n\n  broughtDate = new FormControl(this.warehouseItem.broughtDate, [\n    Validators.required,\n    Validators.nullValidator,\n  ]);\n\n  incomingPrice = new FormControl(this.warehouseItem.incomingPrice, [\n    Validators.required,\n  ]);\n\n  sellingPrice = new FormControl(this.warehouseItem.sellingPrice, [\n    Validators.required,\n  ]);\n\n  productId = new FormControl(this.warehouseItem.productId, [\n    Validators.required,\n    Validators.nullValidator,\n  ]);\n\n  adminId = new FormControl(this.warehouseItem.adminId);\n\n  warehouseId = new FormControl(this.warehouseId.wa, [\n    Validators.required,\n    Validators.nullValidator,\n  ]);\n\n  public editForm = this.formBuilder.group({\n    quantity: this.quantity,\n    broughtDate: this.broughtDate,\n    incomingPrice: this.incomingPrice,\n    sellingPrice: this.sellingPrice,\n    productId: this.productId,\n    adminId: this.adminId,\n    warehouseId: this.warehouseId\n  });\n\n  focusOnScan() {\n    var element = document.getElementById('barcodeInput') as HTMLInputElement;\n    element.focus();\n  }\n\n  scanned(event: any) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      var barcode = document.getElementById('barcodeInput') as HTMLInputElement;\n      var product = this.products.filter(p => p.barcode == barcode.value)[0];\n      this.selectProduct(product.id);\n    }\n  }\n\n  clearbarcode() {\n    var input = document.getElementById('barcodeInput') as HTMLInputElement;\n    input.value = '';\n    this.clearProductSelection();\n    this.checkProductId();\n  }\n\n  clearsearch() {\n    var input = document.getElementById('productSearchText') as HTMLInputElement;\n    input.value = '';\n    this.clearProductSelection();\n    this.checkProductId();  \n  }\n\n  clearProductSelection() {\n    var input = document.getElementById('pname') as HTMLInputElement;\n    input.innerText = '';\n    input = document.getElementById('pmadeIn') as HTMLInputElement;\n    input.innerText = '';\n    input = document.getElementById('pcategoryName') as HTMLInputElement;\n    input.innerText = '';\n    input = document.getElementById('psubcategoryName') as HTMLInputElement;\n    input.innerText = '';\n    input = document.getElementById('description') as HTMLInputElement;\n    input.innerText = '';\n    this.cancelSelection();\n  }\n\n  selectProduct(id: number){\n    this.productService.getById(id).subscribe(data => {\n      this.selectedProduct = data;\n      this.editForm.controls.productId.setValue(id);\n      this.setInformations();\n      this.checkProductId();\n    });\n  }\n\n  selectByName() {\n    var input = document.getElementById('productSearchText') as HTMLInputElement;\n    var product = this.products.filter(p => p.name == input.value)[0];\n    this.selectProduct(product.id);\n  }\n\n  cancelSelection() {\n    this.selectedProduct = {\n      id: 0,\n      name: '',\n      description: '',\n      madeIn: '',\n      barcode: '',\n      warningCount: 0,\n      subcategoryId: 0,\n      subcategoryName: '',\n      categoryId: 0,\n      categoryName: '',\n      adminId: '',\n      adminFullName: '',\n      addedDate: new Date(),\n      modifiedDate: new Date()\n    };\n  }\n\n  setInformations() {\n    var input = document.getElementById('pname') as HTMLInputElement;\n    input.innerText = this.selectedProduct.name;\n    input = document.getElementById('productSearchText') as HTMLInputElement;\n    input.value = this.selectedProduct.name;\n    input = document.getElementById('barcodeInput') as HTMLInputElement;\n    input.value = this.selectedProduct.barcode;\n    input = document.getElementById('pmadeIn') as HTMLInputElement;\n    input.innerText = this.selectedProduct.madeIn;\n    input = document.getElementById('pcategoryName') as HTMLInputElement;\n    input.innerText = this.selectedProduct.categoryName;\n    input = document.getElementById('psubcategoryName') as HTMLInputElement;\n    input.innerText = this.selectedProduct.subcategoryName;\n    input = document.getElementById('description') as HTMLInputElement;\n    input.innerText = this.selectedProduct.description;\n\n    this.editForm.controls.warehouseId.setValue(this.warehouseItem.warehouseId.toString());\n    //this.editForm.controls.\n\n  }\n\n  checkProductId() {\n    var message = document.getElementById('productIdErrorMessage') as HTMLHeadingElement;\n    if (this.selectedProduct.id == 0) {\n      message.classList.remove('d-none')\n    }\n    else {\n      message.classList.add('d-none');\n    }\n  }\n\n\n\n  add() {\n    this.warehouseItemService.add(this.editForm.getRawValue());\n  }\n}","<div class=\"container\">\n    <div class=\"card\">\n      <h3 class=\"card-header\">Yangi kirim qo'shish</h3>\n      <div class=\"card-body\">\n        <form [formGroup]=\"editForm\" class=\"modal-body\">\n          <h5 class=\"text-center text-danger d-none\" id=\"productIdErrorMessage\">Mahsulotni tanlang!</h5>\n          <div class=\"row mb-4\">\n            <div class=\"col-md-6\">\n              <div class=\"mb-3 mt-1\">\n                <label class=\"form-label\" style=\"font-size: 16px;\">Barcode orqali qo'shish</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"000000000000\"\n                  ngModel\n                  id=\"barcodeInput\"\n                  (keydown)=\"scanned($event)\"\n                  formControlName=\"barcode\"\n                />\n              </div>\n              <div class=\"d-flex justify-content-center mb-4\">\n                <button class=\"btn btn-primary mx-2\" (click)=\"focusOnScan()\">\n                  <i class=\"bi bi-upc-scan me-2\"></i>Scanerlash\n                </button>\n                <a class=\"btn btn-secondary\" (click)=\"clearbarcode()\">\n                  <i class=\"bi bi-arrow-counterclockwise me-2\"></i> Tozalash\n                </a>\n              </div>\n              <div class=\"mb-3 mt-4\">\n                <label class=\"form-label\" style=\"font-size: 16px;\">Mahsulot nomi bo'yicha qo'shish</label>\n                <input\n                  type=\"search\"\n                  list=\"products\"\n                  class=\"form-control\"\n                  id=\"productSearchText\"\n                />\n                <datalist id=\"products\">\n                  <option *ngFor=\"let product of products\" [value]=\"product.name\"></option>\n                </datalist>\n              </div>\n              <div class=\"d-flex justify-content-center\">\n                <button class=\"btn btn-success mx-2\" (click)=\"selectByName()\">\n                  <i class=\"bi bi-plus-circle me-2\"></i>Qo'shish\n                </button>\n                <a class=\"btn btn-secondary\" (click)=\"clearsearch()\">\n                  <i class=\"bi bi-arrow-counterclockwise me-2\"></i> Tozalash\n                </a>\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"container product-div\">\n                <label>Nomi:</label>\n                <h5 id=\"pname\">{{ selectedProduct.name }}</h5>\n                <hr />\n                <label>Ishlab chiqarilgan joyi:</label>\n                <h5 id=\"pmadeIn\">{{ selectedProduct.madeIn }}</h5>\n                <hr />\n                <label>Mahsulot turi:</label>\n                <h5 id=\"pcategoryName\">{{ selectedProduct.categoryName }}</h5>\n                <hr />\n                <label>Kategoriyasi:</label>\n                <h5 id=\"psubcategoryName\">{{ selectedProduct.subcategoryName }}</h5>\n                <hr />\n                <label>Izoh:</label>\n                <h5 id=\"description\">{{ selectedProduct.description }}</h5>\n                <hr>\n              </div>\n            </div>\n          </div>\n  \n          <hr />\n  \n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <div class=\"mb-1 mt-3\">\n                <label class=\"form-label\">Ombor</label>\n                <select class=\"form-select\" formControlName=\"warehouseId\" id=\"warehouseSelect\">\n                  <option value=\"null\" disabled>\n                    -- Omborni tanlang --\n                  </option>\n                  <option\n                    *ngFor=\"let warehouse of warehouses\"\n                    value=\"{{ warehouse.id }}\"\n                    [selected]=\"warehouse.id == warehouseItem.warehouseId\"\n                  >\n                    {{ warehouse.name }}\n                  </option>\n                </select>\n                <div\n                  *ngIf=\"warehouseId.errors?.['required']\"\n                  class=\"form-text text-danger\"\n                >\n                  Ombor tanlang!\n                </div>\n              </div>\n              <div class=\"mb-3 mt-3\">\n                <label class=\"form-label\">Miqdori</label>\n                <input\n                  type=\"number\"\n                  class=\"form-control\"\n                  placeholder=\"Mahsulot miqdorini kiriting\"\n                  ngModel\n                  formControlName=\"quantity\"\n                />\n                <div *ngIf=\"quantity.errors?.['required']\"\n                    class=\"form-text text-danger\">\n                    Maydonni to'ldiring!\n                </div>\n              </div>\n              <div class=\"mb-3 mt-3\">\n                <label class=\"form-label\">Olib kelingan sanani kiriting</label>\n                <input\n                  type=\"date\"\n                  class=\"form-control\"\n                  ngModel\n                  formControlName=\"broughtDate\"\n                />\n                <div *ngIf=\"broughtDate.errors?.['required']\"\n                    class=\"form-text text-danger\">\n                    Maydonni to'ldiring!\n               </div>\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"mb-3 mt-3\">\n                <label class=\"form-label\">Olish narxi</label>\n                <input\n                  type=\"number\"\n                  class=\"form-control\"\n                  ngModel\n                  formControlName=\"incomingPrice\"\n                />\n                <div *ngIf=\"incomingPrice.errors?.['required']\"\n                    class=\"form-text text-danger\" >\n                     Maydonni to'ldiring!\n                </div>\n              </div>\n              <div class=\"mb-3 mt-3\">\n                <label class=\"form-label\">Sotish narxi</label>\n                <input\n                  type=\"number\"\n                  class=\"form-control\"\n                  ngModel\n                  formControlName=\"sellingPrice\"\n                />\n                <div *ngIf=\"sellingPrice.errors?.['required']\"\n                    class=\"form-text text-danger\" >\n                     Maydonni to'ldiring!\n                </div>\n              </div>\n            </div>\n          </div>\n  \n          <div class=\"modal-footer d-flex justify-content-center\">\n            <button type=\"button\" class=\"btn btn-secondary\" routerLink=\"..\">\n              Orqaga\n            </button>\n            <button\n              [disabled]=\"!editForm.valid\"\n              type=\"submit\"\n              class=\"btn btn-primary\"\n              (click)=\"add()\"\n            >\n              Saqlash\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}