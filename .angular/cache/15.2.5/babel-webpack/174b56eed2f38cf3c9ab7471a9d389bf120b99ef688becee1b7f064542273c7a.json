{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SalesComponent = class SalesComponent {\n  constructor(salesService, actRoute, router) {\n    this.salesService = salesService;\n    this.actRoute = actRoute;\n    this.router = router;\n    this.receipt = {\n      Id: 0,\n      Discount: 0,\n      AddedDate: new Date(),\n      PaidCard: 0,\n      PaidCash: 0,\n      SellerId: 0,\n      SellerFullName: '',\n      TotalPrice: 0,\n      Transactions: []\n    };\n    this.page = 1;\n  }\n  ngOnInit() {\n    const routeParams = this.actRoute.snapshot.paramMap;\n    this.page = Number(routeParams.get('page') ?? 1);\n    this.paging(this.page);\n  }\n  paging(pageNumber) {\n    this.page = Math.round(pageNumber);\n    if (pageNumber > this.salesService.pagination.CurrentPage && pageNumber > 3) {\n      pageNumber -= 1;\n    } else if (pageNumber < this.salesService.pagination.CurrentPage && pageNumber > 3) {\n      pageNumber += 1;\n    }\n    this.receipts = this.salesService.getPaged(this.page);\n    this.pagination = this.salesService.pagination;\n    this.router.navigate(['/sales/page', this.page]);\n  }\n  selectSales(item) {\n    this.receipt = item;\n  }\n};\nSalesComponent = __decorate([Component({\n  selector: 'app-sales',\n  templateUrl: './sales.component.html',\n  styleUrls: ['./sales.component.css']\n})], SalesComponent);\nexport { SalesComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAmBzBC,YAAoBC,YAA0B,EAC1BC,QAAwB,EACxBC,MAAc;IAFd,iBAAY,GAAZF,YAAY;IACZ,aAAQ,GAARC,QAAQ;IACR,WAAM,GAANC,MAAM;IAhB1B,YAAO,GAAY;MACjBC,EAAE,EAAE,CAAC;MACLC,QAAQ,EAAE,CAAC;MACXC,SAAS,EAAE,IAAIC,IAAI,EAAE;MACrBC,QAAQ,EAAE,CAAC;MACXC,QAAQ,EAAE,CAAC;MACXC,QAAQ,EAAE,CAAC;MACXC,cAAc,EAAE,EAAE;MAClBC,UAAU,EAAE,CAAC;MACbC,YAAY,EAAE;KACf;IAEM,SAAI,GAAW,CAAC;EAIc;EAErCC,QAAQ;IACN,MAAMC,WAAW,GAAG,IAAI,CAACb,QAAQ,CAACc,QAAQ,CAACC,QAAQ;IACnD,IAAI,CAACC,IAAI,GAAGC,MAAM,CAACJ,WAAW,CAACK,GAAG,CAAC,MAAM,CAAC,IAAE,CAAC,CAAC;IAC9C,IAAI,CAACC,MAAM,CAAC,IAAI,CAACH,IAAI,CAAC;EACxB;EAEAG,MAAM,CAACC,UAAkB;IACvB,IAAI,CAACJ,IAAI,GAAGK,IAAI,CAACC,KAAK,CAACF,UAAU,CAAC;IAElC,IAAIA,UAAU,GAAG,IAAI,CAACrB,YAAY,CAACwB,UAAU,CAACC,WAAW,IAAIJ,UAAU,GAAG,CAAC,EAAE;MAC3EA,UAAU,IAAI,CAAC;KAChB,MACI,IAAIA,UAAU,GAAG,IAAI,CAACrB,YAAY,CAACwB,UAAU,CAACC,WAAW,IAAIJ,UAAU,GAAG,CAAC,EAAE;MAChFA,UAAU,IAAI,CAAC;;IAEjB,IAAI,CAACK,QAAQ,GAAG,IAAI,CAAC1B,YAAY,CAAC2B,QAAQ,CAAC,IAAI,CAACV,IAAI,CAAC;IACrD,IAAI,CAACO,UAAU,GAAG,IAAI,CAACxB,YAAY,CAACwB,UAAU;IAC9C,IAAI,CAACtB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,aAAa,EAAE,IAAI,CAACX,IAAI,CAAC,CAAC;EAClD;EAEAY,WAAW,CAACC,IAAa;IACvB,IAAI,CAACC,OAAO,GAAGD,IAAI;EACrB;CACD;AA9CYhC,cAAc,eAN1BD,SAAS,CAAC;EACTmC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GAEWpC,cAAc,CA8C1B;SA9CYA,cAAc","names":["Component","SalesComponent","constructor","salesService","actRoute","router","Id","Discount","AddedDate","Date","PaidCard","PaidCash","SellerId","SellerFullName","TotalPrice","Transactions","ngOnInit","routeParams","snapshot","paramMap","page","Number","get","paging","pageNumber","Math","round","pagination","CurrentPage","receipts","getPaged","navigate","selectSales","item","receipt","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Nodirbek\\Desktop\\ZAKAZ\\Admin\\src\\app\\components\\sales\\sales.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Pagination } from 'src/app/models/Pagination';\nimport { Receipt } from 'src/app/models/Receipt';\nimport { SalesService } from 'src/app/services/sales/sales.service';\n\n@Component({\n  selector: 'app-sales',\n  templateUrl: './sales.component.html',\n  styleUrls: ['./sales.component.css']\n})\n\nexport class SalesComponent implements OnInit {\n\n  receipts: Observable<Receipt[]> | undefined;\n  pagination: Pagination | undefined;\n\n  receipt: Receipt = {\n    Id: 0,\n    Discount: 0,\n    AddedDate: new Date(),\n    PaidCard: 0,\n    PaidCash: 0,\n    SellerId: 0,\n    SellerFullName: '',\n    TotalPrice: 0,\n    Transactions: []\n  };\n\n  public page: number = 1;\n\n  constructor(private salesService: SalesService,\n              private actRoute: ActivatedRoute,\n              private router: Router) {}\n\n  ngOnInit(): void {\n    const routeParams = this.actRoute.snapshot.paramMap;\n    this.page = Number(routeParams.get('page')??1);\n    this.paging(this.page);\n  }\n\n  paging(pageNumber: number) {\n    this.page = Math.round(pageNumber);\n\n    if (pageNumber > this.salesService.pagination.CurrentPage && pageNumber > 3) {\n      pageNumber -= 1;\n    }\n    else if (pageNumber < this.salesService.pagination.CurrentPage && pageNumber > 3) {\n      pageNumber += 1;\n    }\n    this.receipts = this.salesService.getPaged(this.page);\n    this.pagination = this.salesService.pagination;\n    this.router.navigate(['/sales/page', this.page]);\n  }\n\n  selectSales(item: Receipt) {\n    this.receipt = item;\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}